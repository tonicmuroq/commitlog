<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Commit Log as a Service</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <meta name="color-scheme" content="light dark" />
</head>

<body class="min-h-screen bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100">
  <main class="mx-auto max-w-3xl px-4 py-10">
    <section class="rounded-xl bg-white shadow-sm ring-1 ring-gray-100 dark:bg-gray-800 dark:ring-gray-700">
      <div class="p-8">
        <h1 class="text-3xl font-semibold tracking-tight">Commit Log as a Service</h1>
        <div class="mt-6 flex items-start gap-3">
          <p id="cl-text" class="text-lg leading-relaxed break-words">{{ message }}</p>
          <button id="copy-btn" type="button"
            class="ml-auto inline-flex items-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white shadow-sm hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-400 disabled:opacity-50">点一下,
            复制这条</button>
        </div>
      </div>
      <div class="border-t border-gray-100 p-8 dark:border-gray-700">
        <p class="text-sm text-gray-600 dark:text-gray-300">打开你的 <code class="font-mono">~/.gitconfig</code> 然后:</p>
        <pre class="mt-3 overflow-x-auto rounded-md bg-gray-900 p-4 text-sm text-gray-100">{{ alias_snippet }}</pre>
        <p class="mt-3 text-sm text-gray-600 dark:text-gray-300">记得转义双引号一定不能去掉, 因为这坑货自己会去掉双引号… 下次提交就敲 <kbd
            class="rounded bg-gray-200 px-1.5 py-0.5 font-mono text-xs text-gray-800 dark:bg-gray-700 dark:text-gray-100">git
            wtf</kbd> 看看你的老板多久会打死你。</p>
        <div class="mt-6">
          <p class="text-sm text-gray-600 dark:text-gray-300">你的老板:</p>
          <img class="mt-2 h-[93px] w-[100px] select-none" src="/what-the-duck.gif" alt="What?!!" />
        </div>
        <div class="mt-8 flex gap-3">
          <a class="inline-flex items-center rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-400"
            href="/" role="button">刷新下, 换一条</a>
          <a class="inline-flex items-center rounded-md bg-gray-200 px-4 py-2 text-sm font-medium text-gray-800 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600"
            href="https://github.com/tonicbupt/commitlog" target="_blank" rel="noopener noreferrer"
            role="button">看下代码</a>
        </div>
      </div>
    </section>
  </main>

  <script>
    (function () {
      var btn = document.getElementById('copy-btn');
      var textEl = document.getElementById('cl-text');
      if (!btn || !textEl) return;
      btn.addEventListener('click', async function () {
        try {
          await navigator.clipboard.writeText(textEl.innerText);
          btn.textContent = ' (嗯… 复制好了';
          setTimeout(function () {btn.textContent = '点一下, 复制这条';}, 1500);
        } catch (e) {
          var ta = document.createElement('textarea');
          ta.value = textEl.innerText; document.body.appendChild(ta); ta.select();
          try {document.execCommand('copy'); btn.textContent = ' (嗯… 复制好了';} catch (err) { }
          document.body.removeChild(ta);
          setTimeout(function () {btn.textContent = '点一下, 复制这条';}, 1500);
        }
      });
    })();
  </script>
</body>

</html>
